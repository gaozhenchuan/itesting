CREATE DATABASE IF NOT EXISTS `utest` DEFAULT CHARACTER SET utf8;

/* FUNCTION structure for FUNCTION `currval` */

DROP FUNCTION IF EXISTS currval; 

DELIMITER $$

CREATE DEFINER=root@localhost FUNCTION currval (seq_name VARCHAR(50))
    RETURNS INTEGER
    LANGUAGE SQL 
    DETERMINISTIC 
    CONTAINS SQL 
    SQL SECURITY DEFINER 
    COMMENT ''
BEGIN
    DECLARE value INTEGER; 
    SET value = 0; 
    SELECT current_value INTO value 
        FROM sequence
        WHERE name = seq_name; 
    RETURN value; 
END 
$$ DELIMITER ;

SET SQL_MODE=NO_ENGINE_SUBSTITUTION;
SET FOREIGN_KEY_CHECKS=0;
